<?xml version='1.0' encoding='utf-8'?>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>HTTP权威指南 (图灵程序设计丛书)</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <link href="stylesheet.css" rel="stylesheet" type="text/css"/>
<link href="page_styles.css" rel="stylesheet" type="text/css"/>
</head>
  <body class="calibre">
<p class="calibre_"><span class="calibre3"><span class="bold">D.2　MIME类型结构</span></span></p><p class="calibre_">每种 MIME 媒体类型都包含类型、子类型和可选参数的列表。类型和子类型由一个斜杠分隔，如果有可选参数的话，则以分号开始。在 HTTP 中，MIME 媒体类型被广泛用于 <tt class="calibre8">Content-Type</tt> 和 <tt class="calibre8">Accept</tt> 首部。下面是几个例子：</p><blockquote class="calibre_21"><span class="calibre7"><tt class="calibre8">Content-Type: video/quicktime<br class="calibre2"/>Content-Type: text/html; charset="iso-8859-6"<br class="calibre2"/>Content-Type: multipart/mixed; boundary=gc0p4Jq0M2Yt08j34c0p<br class="calibre2"/>Accept: image/gif<br class="calibre2"/></tt></span></blockquote><p class="calibre_22"><span class="calibre3"><span class="bold">D.2.1　离散类型</span></span></p><p class="calibre_">MIME 类型可以直接用于描述对象类型，也可以用于描述其他对象类型的集合或类型包。如果直接用 MIME 类型来描述某个对象类型，它就是一种离散类型（discrete type）。其中包括文本文件、视频和应用程序特有的文件格式。</p><p class="calibre_"><span class="calibre3"><span class="bold">D.2.2　复合类型</span></span></p><p class="calibre_">如果 MIME 类型描述的是其他内容的集合或封装包，这种 MIME 类型就被称为<span class="bold">复合类型</span>（composite type）。复合类型描述的是封装包的格式。将封装包打开时，其中包含的每个对象都会有其各自的类型。</p><p class="calibre_"><span class="calibre3"><span class="bold">D.2.3　多部分类型</span></span></p><p class="calibre_">多部分媒体类型是复合类型。多部分对象包含多个组件类型。下面是一个多部分 / 混合内容实例，每个组件都有自己的 MIME 类型：</p><blockquote class="calibre_21"><span class="calibre7"><tt class="calibre8">Content-Type: </tt></span><span class="calibre7"><tt class="calibre8"><span class="bold">multipart/mixed</span></tt></span><span class="calibre7"><tt class="calibre8">; boundary=unique-boundary-1<br class="calibre2"/><br class="calibre2"/>--unique-boundary-1<br class="calibre2"/>Content-type: </tt></span><span class="calibre7"><tt class="calibre8"><span class="bold">text/plain</span></tt></span><span class="calibre7"><tt class="calibre8">; charset=US-ASCII<br class="calibre2"/><br class="calibre2"/>Hi there, I'm some boring ASCII text...<br class="calibre2"/><br class="calibre2"/>--unique-boundary-1<br class="calibre2"/>Content-Type: </tt></span><span class="calibre7"><tt class="calibre8"><span class="bold">multipart/parallel</span></tt></span><span class="calibre7"><tt class="calibre8">; boundary=unique-boundary-2<br class="calibre2"/><br class="calibre2"/>--unique-boundary-2<br class="calibre2"/>Content-Type: </tt></span><span class="calibre7"><tt class="calibre8"><span class="bold">audio/basic</span></tt></span><span class="calibre7"><tt class="calibre8"><br class="calibre2"/><br class="calibre2"/>    ... 8000 Hz single-channel mu-law-format<br class="calibre2"/>        audio data goes here ...<br class="calibre2"/><br class="calibre2"/>--unique-boundary-2<br class="calibre2"/>Content-Type: </tt></span><span class="calibre7"><tt class="calibre8"><span class="bold">image/jpeg</span></tt></span><span class="calibre7"><tt class="calibre8"><br class="calibre2"/><br class="calibre2"/>    ... image data goes here ...<br class="calibre2"/><br class="calibre2"/>--unique-boundary-2--<br class="calibre2"/><br class="calibre2"/>--unique-boundary-1<br class="calibre2"/>Content-type: </tt></span><span class="calibre7"><tt class="calibre8"><span class="bold">text/enriched</span></tt></span><span class="calibre7"><tt class="calibre8"><br class="calibre2"/><br class="calibre2"/>This is &lt;bold&gt;&lt;italic&gt;enriched.&lt;/italic&gt;&lt;/bold&gt;<br class="calibre2"/>&lt;smaller&gt;as defined in RFC 1896&lt;/smaller&gt;<br class="calibre2"/><br class="calibre2"/>Isn't it &lt;bigger&gt;&lt;bigger&gt;cool?&lt;/bigger&gt;&lt;/bigger&gt;<br class="calibre2"/><br class="calibre2"/>--unique-boundary-1<br class="calibre2"/>Content-Type: </tt></span><span class="calibre7"><tt class="calibre8"><span class="bold">message/rfc822</span></tt></span><span class="calibre7"><tt class="calibre8"><br class="calibre2"/><br class="calibre2"/>From: (mailbox in US-ASCII)<br class="calibre2"/>To: (address in US-ASCII)<br class="calibre2"/>Subject: (subject in US-ASCII)<br class="calibre2"/>Content-Type: Text/plain; charset=ISO-8859-1<br class="calibre2"/>Content-Transfer-Encoding: Quoted-printable<br class="calibre2"/><br class="calibre2"/>    ... Additional text in ISO-8859-1 goes here ...<br class="calibre2"/><br class="calibre2"/>--unique-boundary-1--<br class="calibre2"/></tt></span></blockquote><p class="calibre_22"><span class="calibre3"><span class="bold">D.2.4　语法</span></span></p><p class="calibre_">如前所述，MIME 类型由主类型、子类型和可选参数的列表组成。</p><p class="calibre_">主类型可以是预定义类型、IETF 定义的扩展标记，或者（以“x-”开头的）实验性标记。表 D-1 列出了一些常见的主类型。</p><p class="calibre_"><span class="bold">表D-1　常见的主MIME类型</span></p><p class="calibre2" style="margin:0pt; border:0pt; height:1em"> </p><table valign="top" class="calibre_14"><tr valign="top" class="calibre9"><th valign="top" class="calibre_20"><span class="calibre7"><span class="bold"> 类　　型 </span></span>
</th><th valign="top" class="calibre_20"><span class="calibre7"><span class="bold"> 描　　述 </span></span>
</th></tr><tr valign="top" class="calibre_17"><td valign="top" class="calibre10"><span class="calibre7"> application </span><span class="calibre_18">
</span></td><td valign="top" class="calibre10"><span class="calibre7"> 应用程序特有的内容格式（离散类型） </span><span class="calibre_18">
</span></td></tr><tr valign="top" class="calibre9"><td valign="top" class="calibre10"><span class="calibre7"> audio </span>
</td><td valign="top" class="calibre10"><span class="calibre7"> 音频格式（离散类型） </span>
</td></tr><tr valign="top" class="calibre_17"><td valign="top" class="calibre10"><span class="calibre7"> chemical </span><span class="calibre_18">
</span></td><td valign="top" class="calibre10"><span class="calibre7"> 化学数据集（离散 IETF 扩展类型） </span><span class="calibre_18">
</span></td></tr><tr valign="top" class="calibre9"><td valign="top" class="calibre10"><span class="calibre7"> image </span>
</td><td valign="top" class="calibre10"><span class="calibre7"> 图片格式（离散类型） </span>
</td></tr><tr valign="top" class="calibre_17"><td valign="top" class="calibre10"><span class="calibre7"> message </span><span class="calibre_18">
</span></td><td valign="top" class="calibre10"><span class="calibre7"> 报文格式（复合类型） </span><span class="calibre_18">
</span></td></tr><tr valign="top" class="calibre9"><td valign="top" class="calibre10"><span class="calibre7"> model </span>
</td><td valign="top" class="calibre10"><span class="calibre7"> 三维模型格式（离散 IETF 扩展类型） </span>
</td></tr><tr valign="top" class="calibre_17"><td valign="top" class="calibre10"><span class="calibre7"> multipart </span><span class="calibre_18">
</span></td><td valign="top" class="calibre10"><span class="calibre7"> 多部分对象集合（复合类型） </span><span class="calibre_18">
</span></td></tr><tr valign="top" class="calibre9"><td valign="top" class="calibre10"><span class="calibre7"> text </span>
</td><td valign="top" class="calibre10"><span class="calibre7"> 文本格式（离散类型） </span>
</td></tr><tr valign="top" class="calibre_17"><td valign="top" class="calibre10"><span class="calibre7"> video </span><span class="calibre_18">
</span></td><td valign="top" class="calibre10"><span class="calibre7"> 视频电影格式（离散类型） </span><span class="calibre_18">
</span></td></tr></table><p class="calibre_">子类型可以是主类型（比如，“text/text”）、IANA 注册的子类型，或者是（以“x-”开头的）实验性扩展标记。</p><p class="calibre_">类型和子类型都是由 US-ASCII 字符的一个子集构成的。空格和某些保留分组以及标点符号称为“tspecials”，它们是控制字符，不能用于类型和子类型名。</p><p class="calibre_">RFC 2046 定义的语法如下所示：</p><blockquote class="calibre_21"><span class="calibre7"><tt class="calibre8">TYPE := "application" | "audio" | "image" | "message" | "multipart" |<br class="calibre2"/>        "text" | "video" | IETF-TOKEN | X-TOKEN<br class="calibre2"/>SUBTYPE := IANA-SUBTOKEN | IETF-TOKEN | X-TOKEN<br class="calibre2"/><br class="calibre2"/>IETF-TOKEN := &lt;extension token with RFC and registered with IANA&gt;<br class="calibre2"/>IANA-SUBTOKEN := &lt;extension token registered with IANA&gt;<br class="calibre2"/>X-TOKEN := &lt;"X-" or "x-" prefix, followed by any token&gt;<br class="calibre2"/><br class="calibre2"/>PARAMETER := TOKEN "=" VALUE<br class="calibre2"/>VALUE := TOKEN / QUOTED-STRING<br class="calibre2"/>TOKEN := 1*&lt;any (US-ASCII) CHAR except SPACE, CTLs, or TSPECIALS&gt;<br class="calibre2"/>TSPECIALS := "(" | ")" | "&lt;" | "&gt;" | "@" |<br class="calibre2"/>             "," | ";" | ":" | "\" | &lt;"&gt; |<br class="calibre2"/>             "/" | "[" | "]" | "?" | "="<br class="calibre2"/></tt></span></blockquote><div class="mbp_pagebreak" id="calibre_pb_208"></div>
</body></html>
