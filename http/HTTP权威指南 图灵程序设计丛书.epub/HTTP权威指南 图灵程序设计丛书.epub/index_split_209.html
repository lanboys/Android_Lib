<?xml version='1.0' encoding='utf-8'?>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>HTTP权威指南 (图灵程序设计丛书)</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <link href="stylesheet.css" rel="stylesheet" type="text/css"/>
<link href="page_styles.css" rel="stylesheet" type="text/css"/>
</head>
  <body class="calibre">
<p class="calibre_22"><span class="calibre3"><span class="bold">D.3　在IANA注册MIME类型</span></span></p><p class="calibre_">RFC 2048 描述了 MIME 媒体类型的注册过程。使用注册过程的目的不仅能简化注册新媒体类型的过程，而且还能提供一些完整性检测，以确保新类型是经过深思熟虑后提出的。</p><p class="calibre_"><span class="calibre3"><span class="bold">D.3.1　注册树</span></span></p><p class="calibre_">MIME 类型标记被分成了 4 类，称为“注册树”，每一类都有自己的注册规则。表 D-2 描述了这 4 棵树——IETF、厂商、个人和实验性的树。</p><p class="calibre_"><span class="bold">表D-2　4种MIME媒体类型注册树</span></p><p class="calibre2" style="margin:0pt; border:0pt; height:1em"> </p><table valign="top" class="calibre_14"><tr valign="top" class="calibre9"><th valign="top" class="calibre_66"><span class="calibre7"><span class="bold"> 注　册　树 </span></span>
</th><th valign="top" class="calibre_66"><span class="calibre7"><span class="bold"> 举　　例 </span></span>
</th><th valign="top" class="calibre_20"><span class="calibre7"><span class="bold"> 描　　述 </span></span>
</th></tr><tr valign="top" class="calibre_17"><td valign="top" class="calibre10"><span class="calibre7"> IETF </span><span class="calibre_18">
</span></td><td valign="top" class="calibre10"><span class="calibre7"> text/html（HTML 文本） </span><span class="calibre_18">
</span></td><td valign="top" class="calibre10"><span class="calibre7"> IETF 树用于那些对因特网来说具有普遍意义的类型。新的 IETF 树媒体类型要由因特网工程指导组（Internet Engineering Steering Group，IESG）审批，并且要有一个附属的标准追踪RFC。</span><br class="calibre2"/><span class="calibre7"> </span><span class="calibre7">IETF 树类型标记中没有句点（.）</span><span class="calibre_18">
</span></td></tr><tr valign="top" class="calibre9"><td valign="top" class="calibre10"><span class="calibre7"> 厂商（vnd.） </span>
</td><td valign="top" class="calibre10"><span class="calibre7"> image/vnd.fpx</span><br class="calibre2"/><span class="calibre7"> </span><span class="calibre7">（柯达的 FlashPix 图片）</span>
</td><td valign="top" class="calibre10"><span class="calibre7"> 厂商树用于可商用产品的媒体类型。鼓励大家进行新厂商类型的公开评审，但并不强制这么做。</span><br class="calibre2"/><span class="calibre7"> </span><span class="calibre7">厂商树类型以vnd. 开头</span>
</td></tr><tr valign="top" class="calibre_17"><td valign="top" class="calibre10"><span class="calibre7"> 个人 / 不重要的（prs.） </span><span class="calibre_18">
</span></td><td valign="top" class="calibre10"><span class="calibre7"> image/prs.btif</span><br class="calibre2"/><span class="calibre7"> </span><span class="calibre7">（美国国家银行使用的内部检查管理格式）</span><span class="calibre_18">
</span></td><td valign="top" class="calibre10"><span class="calibre7"> 私有、个人或不重要的媒体类型可以注册在个人树中。这些媒体类型不应该进行商业化发布。</span><br class="calibre2"/><span class="calibre7"> </span><span class="calibre7">个人数类型以 prs. 开头</span><span class="calibre_18">
</span></td></tr><tr valign="top" class="calibre9"><td valign="top" class="calibre10"><span class="calibre7"> 实验性（x- 或x.） </span>
</td><td valign="top" class="calibre10"><span class="calibre7"> application/x-tar</span><br class="calibre2"/><span class="calibre7"> </span><span class="calibre7">（Unix 的 tar 档案）</span>
</td><td valign="top" class="calibre10"><span class="calibre7"> 实验树用于未注册或实验性的媒体类型。由于注册新的厂商或个人媒体类型的过程相对简单，所以不应该广泛地发布使用 x- 类型的软件。</span><br class="calibre2"/><span class="calibre7"> </span><span class="calibre7">实验树类型以 x. 或 x- 开头</span>
</td></tr></table><p class="calibre_"><span class="calibre3"><span class="bold">D.3.2　注册过程</span></span></p><p class="calibre_">关于 MIME 媒体类型的注册过程请仔细阅读 RFC 2048。</p><p class="calibre_">基本的注册过程并不是官方的标准过程，只是一个管理过程，目的是在尽短时间内，就能通过 IANA 对新类型的完整性检查，将其记录在注册表中。这个过程遵循下列步骤。</p><div class="calibre_5"> </div><ol class="calibre_40"><li value="1" class="calibre_7"><p class="calibre_">将媒体类型提交给 IANA 审阅。</p><p class="calibre_">向 ietf-types@iana.org 邮件列表发送一封媒体类型注册建议书，审阅期为两周。发布公告，征求公众对名字、互操作性和安全问题的反馈意见。在注册完成之前，都可以使用 RFC 2045 中指定的前缀 x-。</p></li><li value="2" class="calibre_7"><p class="calibre_">IESG 审批（仅对 IETF 树而言）</p><p class="calibre_">如果要将媒体类型注册到 IETF 树中去，就必须提交给 IESG 审批，而且必须有一个附加的标准追踪 RFC。</p></li><li value="3" class="calibre_7"><p class="calibre_">IANA 注册</p><p class="calibre_">只要媒体类型达到了审批要求，作者就可以通过例 D-1 中的电子邮件模板向 IANA 提交注册请求，并将注册信息发送到 ietf-types@iana.org。IANA 会注册媒体类型，在 <a href="http://www.isi.edu/in-notes/iana/assignments/media-types/">http://www.isi.edu/in-notes/iana/assignments/media-types/</a> 上向公众提供该媒体类型应用程序。</p></li></ol><p class="calibre_"><span class="calibre3"><span class="bold">D.3.3　注册规则</span></span></p><p class="calibre_">只有在响应 IESG 批准某指定注册申请的通知时，IANA 才能在 IETF 树中注册媒体类型。</p><p class="calibre_">只要满足下面这些条件，IANA 就会自动注册厂商和个人类型，不需要进行任何正式的审查。</p><div class="calibre_5"> </div><ol class="calibre_40"><li value="1" class="calibre_7"><p class="calibre_">媒体类型一定要像实际的媒体格式一样工作。像传输编码或字符集那样工作的类型是不能注册为媒体类型的。</p></li><li value="2" class="calibre_7"><p class="calibre_">所有媒体类型都要有适当的类型和子类型名。所有类型名都要由标准追踪 RFC 定义。所有子类型名都必须是唯一的，必须与那类名称的 MIME 语法相符，而且必须包含恰当的树前缀。</p></li><li value="3" class="calibre_7"><p class="calibre_">个人树类型必须提供格式规范或指向格式规范的指针。</p></li><li value="4" class="calibre_7"><p class="calibre_">不要忽略安全问题。所有开发因特网软件的人都要为防范安全漏洞作出贡献。</p></li></ol><p class="calibre_"><span class="calibre3"><span class="bold">D.3.4　注册模板</span></span></p><p class="calibre_">实际的 IANA 注册是通过电子邮件完成的。可以用例 D-1 中显示的模板来完成注册表格，并将其发送到 ietf-types@iana.org。<sup class="calibre4"><small class="calibre5"><span class="calibre6">1</span></small></sup></p><p class="calibre_"><sup class="calibre4"><small class="calibre5"><span class="calibre6">1：这个格式没有很严格的结构，稍做调整并不会影响信息阅读，但由机器处理则比较困难。这就是很难找到一份可读的、经过良好组织的 MIME 类型小结的原因之一，这也是我们在本附录末尾创建那些表格的原因。</span></small></sup></p><blockquote class="calibre_21"><span class="bold">例 D-1</span>　IANA 的 MIME 注册电子邮件模板</blockquote><blockquote class="calibre_21"><span class="calibre7"><tt class="calibre8">To: ietf-types@iana.org<br class="calibre2"/>Subject: Registration of MIME media type XXX/YYY<br class="calibre2"/><br class="calibre2"/>MIME media type name:<br class="calibre2"/><br class="calibre2"/>MIME subtype name:<br class="calibre2"/><br class="calibre2"/>Required parameters:<br class="calibre2"/><br class="calibre2"/>Optional parameters:<br class="calibre2"/><br class="calibre2"/>Encoding considerations:<br class="calibre2"/><br class="calibre2"/>Security considerations:<br class="calibre2"/><br class="calibre2"/>Interoperability considerations:<br class="calibre2"/><br class="calibre2"/>Published specification:<br class="calibre2"/><br class="calibre2"/>Applications which use this media type:<br class="calibre2"/><br class="calibre2"/>Additional information:<br class="calibre2"/><br class="calibre2"/>    Magic number(s):<br class="calibre2"/>    File extension(s):<br class="calibre2"/>    Macintosh File Type Code(s):<br class="calibre2"/><br class="calibre2"/>Person &amp; email address to contact for further information:<br class="calibre2"/><br class="calibre2"/>Intended usage:<br class="calibre2"/><br class="calibre2"/>(One of COMMON, LIMITED USE or OBSOLETE)<br class="calibre2"/><br class="calibre2"/>Author/Change controller:<br class="calibre2"/><br class="calibre2"/>(Any other information that the author deems interesting may be added below this line.)<br class="calibre2"/></tt></span></blockquote><p class="calibre_22"><span class="calibre3"><span class="bold">D.3.5　MIME媒体类型注册</span></span></p><p class="calibre_">可以通过 IANA 的网站（<a href="http://www.iana.org">http://www.iana.org</a>）访问那些已提交的表格。编写本书时，实际存储 MIME 媒体类型的数据库位于 <a href="http://www.isi.edu/in-notes/iana/assignments/media-types/">http://www.isi.edu/in-notes/iana/assignments/media-types/</a> 的 ISI Web 服务器上。</p><p class="calibre_">媒体类型存储在一棵目录树中，以主类型和子类型进行结构划分，每种媒体类型都有一个叶子文件。每个文件中都包含了电子邮件提交信息。但是，每个人所完成的注册模板都略有不同，因此，不同人提交的信息质量和格式都有所不同。（在本附录的表格中，我们试着填补了注册用户忽略的部分。）</p><p class="calibre2" style="margin:0pt; border:0pt; height:1em"> </p><div class="mbp_pagebreak" id="calibre_pb_209"></div>
</body></html>
