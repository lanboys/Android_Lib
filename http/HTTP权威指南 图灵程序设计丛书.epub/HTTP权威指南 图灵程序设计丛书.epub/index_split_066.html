<?xml version='1.0' encoding='utf-8'?>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>HTTP权威指南 (图灵程序设计丛书)</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <link href="stylesheet.css" rel="stylesheet" type="text/css"/>
<link href="page_styles.css" rel="stylesheet" type="text/css"/>
</head>
  <body class="calibre">
<p id="filepos464859" class="calibre_"><span class="calibre3"><span class="bold">6.7　代理认证</span></span></p><p class="calibre_">代理可以作为访问控制设备使用。HTTP 定义了一种名为<span class="bold">代理认证</span>（proxy authentication）的机制，这种机制可以阻止对内容的请求，直到用户向代理提供了有效的访问权限证书为止。</p><div class="calibre_5"> </div><ul class="calibre_6"><li value="1" class="calibre_7"><p class="calibre_">对受限内容的请求到达一台代理服务器时，代理服务器可以返回一个要求使用访问证书的 407 Proxy Authorization Required 状态码，以及一个用于描述怎样提供这些证书的 <tt class="calibre8">Proxy-Authenticate</tt> 首部字段（参见图 6-25b）。</p></li><li value="2" class="calibre_7"><p class="calibre_">客户端收到 407 响应时，会尝试着从本地数据库中，或者通过提示用户来搜集所需要的证书。</p></li><li value="3" class="calibre_7"><p class="calibre_">只要获得了证书，客户端就会重新发送请求，在 <tt class="calibre8">Proxy-Authorization</tt> 首部字段中提供所要求的证书。</p></li><li value="4" class="calibre_7"><p class="calibre_">如果证书有效，代理就会将原始请求沿着传输链路向下传送（参见图 6-25c）；否则，就发送另一条 407 应答。</p></li></ul><p class="calibre_8"><img src="images/00211.jpg" class="calibre_122"/></p><p class="calibre_10"><span class="calibre7">图 6-25　代理可以实现认证机制以控制对内容的访问</span></p><p class="calibre_">若传输链路中有多个代理，且每个代理都要进行认证时，代理认证通常无法很好地工作。人们建议，应该对 HTTP 进行升级，将认证证书与代理链中特定的路标联系起来，但这些升级措施并没有得到广泛实现。</p><p class="calibre_">有关 HTTP 认证机制的详细解释请参见第 12 章。 </p><div class="mbp_pagebreak" id="calibre_pb_66"></div>
</body></html>
