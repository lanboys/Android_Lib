<?xml version='1.0' encoding='utf-8'?>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>HTTP权威指南 (图灵程序设计丛书)</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <link href="stylesheet.css" rel="stylesheet" type="text/css"/>
<link href="page_styles.css" rel="stylesheet" type="text/css"/>
</head>
  <body class="calibre">
<p id="filepos149803" class="calibre_"><span class="calibre3"><span class="bold">3.1　报文流</span></span></p><p class="calibre_">HTTP 报文是在 HTTP 应用程序之间发送的数据块。这些数据块以一些文本形式的<span class="bold">元信息</span>（meta-information）开头，这些信息描述了报文的内容及含义，后面跟着可选的数据部分。这些报文在客户端、服务器和代理之间流动。术语“流入”、“流出”、“上游”及“下游”都是用来描述报文方向的。</p><p class="calibre_"><span class="calibre3"><span class="bold">3.1.1　报文流入源端服务器</span></span></p><p class="calibre_">HTTP 使用术语<span class="bold">流入</span>（inbound）和<span class="bold">流出</span>（outbound）来描述<span class="bold">事务处理</span>（transaction）的方向。报文流入源端服务器，工作完成之后，会流回用户的 Agent 代理中（参见图 3-1）。</p><p class="calibre_8"><img src="images/00068.jpg" class="calibre_48"/></p><p class="calibre_10"><span class="calibre7">图 3-1　报文流入源端服务器并流回到客户端</span></p><p class="calibre_"><span class="calibre3"><span class="bold">3.1.2　报文向下游流动</span></span></p><p class="calibre_">HTTP 报文会像河水一样流动。不管是请求报文还是响应报文，所有报文都会向<span class="bold">下游</span>（downstream）流动（参见图 3-2）。所有报文的发送者都在接收者的<span class="bold">上游</span>（upstream）。在图 3-2 中，对请求报文来说，代理 1 位于代理 3 的上游，但对响应报文来说，它就位于代理 3 的下游 <sup class="calibre4"><small class="calibre5"><span class="calibre6">1</span></small></sup>。</p><p class="calibre_"><sup class="calibre4"><small class="calibre5"><span class="calibre6">1 术语“上游”和“下游”都只与发送者和接收者有关。我们无法区分报文是发送给源端服务器的还是发送给客户端的，因为两者都是下游节点。</span></small></sup></p><p class="calibre_8"><img src="images/00154.jpg" class="calibre_49"/></p><p class="calibre_10"><span class="calibre7">图 3-2　所有报文都向下游流动 </span></p><div class="mbp_pagebreak" id="calibre_pb_31"></div>
</body></html>
